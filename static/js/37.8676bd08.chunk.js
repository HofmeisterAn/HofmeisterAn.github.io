"use strict";(self.webpackChunkportfolio=self.webpackChunkportfolio||[]).push([[37],{97037:function(t,e,n){n.r(e),n.d(e,{default:function(){return h}});var r=n(89472),i=n(27853),a=n(84531),o=n(81020),s=n(18334),u=n(45825),c=n(47313),l=n(68240),p=n(46417),h=function(t){(0,o.Z)(n,t);var e=(0,s.Z)(n);function n(){var t;(0,i.Z)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a)))._ref=null,t._renderer=null,t._requestId=-1,t}return(0,a.Z)(n,[{key:"componentDidMount",value:function(){var t=this;this._renderer=new u.CP7({canvas:this._ref,alpha:!1,antialias:!0}),this._renderer.setPixelRatio(window.devicePixelRatio),l.Z.instance.subscribe((function(){return t.componentDidUpdate()})),window.addEventListener("resize",(function(){return t.componentDidUpdate()})),window.addEventListener("scroll",(function(){return t.componentDidUpdate()}),{passive:!0})}},{key:"componentDidUpdate",value:function(){var t=this;cancelAnimationFrame(this._requestId),this._requestId=requestAnimationFrame((function(){return t.repaint(t._renderer)}))}},{key:"componentWillUnmount",value:function(){var t,e=this;l.Z.instance.unsubscribe((function(){return e.componentDidUpdate()})),window.removeEventListener("resize",(function(){return e.componentDidUpdate()})),window.removeEventListener("scroll",(function(){return e.componentDidUpdate()})),null===(t=this._renderer)||void 0===t||t.dispose()}},{key:"render",value:function(){var t=this;return(0,p.jsx)("canvas",{id:"canvas",style:{position:"absolute"},ref:function(e){return t._ref=e}})}},{key:"repaint",value:function(t){var e=l.Z.instance.getBoundingRect(),n=e.top,i=e.bottom,a=e.left,o=e.width,s=e.height,u=window,c=u.pageXOffset,p=u.pageYOffset;t.domElement.style.top="".concat(n,"px"),t.domElement.style.left="".concat(a,"px"),t.domElement.style.transform="translate(".concat(c,"px, ").concat(p,"px)"),t.setScissorTest(!1),t.setClearColor("#000000",0),t.clear(!0,!0),t.setScissorTest(!0),t.setSize(o,s);var h,d=(0,r.Z)(l.Z.instance);try{for(d.s();!(h=d.n()).done;){var f=h.value,m=f.htmlElement.getBoundingClientRect(),v=(m.top,m.right,m.bottom),y=m.left,w=m.width,Z=m.height,g=Math.abs(y-a),b=Math.abs(v-i);t.setScissor(g,b,w,Z),t.setViewport(g,b,w,Z),f.render(),t.render(f.scene,f.camera)}}catch(_){d.e(_)}finally{d.f()}}}]),n}(c.Component)},68240:function(t,e,n){n.d(e,{Z:function(){return l}});var r=n(35531),i=n(27853),a=n(84531),o=n(44474),s=n(53538),u=n(81020),c=n(18334),l=function(t){(0,u.Z)(n,t);var e=(0,c.Z)(n);function n(){var t;return(0,i.Z)(this,n),(t=e.call(this))._handlers=Array(),t}return(0,a.Z)(n,[{key:"getBoundingRect",value:function(){var t=n.instance.map((function(t){return t.htmlElement.getBoundingClientRect()})),e=Math.min.apply(Math,(0,r.Z)(t.map((function(t){return t.top})))),i=Math.max.apply(Math,(0,r.Z)(t.map((function(t){return t.right})))),a=Math.max.apply(Math,(0,r.Z)(t.map((function(t){return t.bottom})))),o=Math.min.apply(Math,(0,r.Z)(t.map((function(t){return t.left}))));return{top:e,right:i,bottom:a,left:o,width:i-o,height:a-e}}},{key:"push",value:function(){for(var t,e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];var a=(t=(0,o.Z)((0,s.Z)(n.prototype),"push",this)).call.apply(t,[this].concat(r));return this._handlers.slice(0).forEach((function(t){return t()})),a}},{key:"subscribe",value:function(t){this._handlers.push(t)}},{key:"unsubscribe",value:function(t){this._handlers=this._handlers.filter((function(e){return e!==t}))}}]),n}((0,n(52839).Z)(Array));l.instance=new l}}]);